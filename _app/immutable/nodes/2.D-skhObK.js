import{t as L,a as I}from"../chunks/1dWo3d8b.js";import"../chunks/BvWDYwDn.js";import{s as j,h as R,N as ke,Y as Te,a as Ae,b as Ce,m as e,a2 as F,H as Ie,r as le,c as ee,f as O,R as Me,d as de,e as _e,p as Le,W as he,L as Se,a3 as Ge,a4 as ie,a5 as ae,G as fe,a6 as Ne,a7 as Re,a8 as De,V as He,a9 as Pe,aa as Ye,ab as ze,ac as Oe,P as Ve,w as We,ad as N,ae as V,af as Be,t as W,y as qe,ag as Ue,B as C,ah as g,z as X,A as H,x as te}from"../chunks/Cr6G0LUw.js";import{e as B,s as re}from"../chunks/CF98Hy7F.js";import{i as q}from"../chunks/031xDcex.js";import{i as Xe}from"../chunks/CVvwfn5X.js";function oe(i,t){return t}function $e(i,t,a,p){for(var u=[],_=t.length,s=0;s<_;s++)De(t[s].e,u,!0);var v=_>0&&u.length===0&&a!==null;if(v){var h=a.parentNode;He(h),h.append(a),p.clear(),M(i,t[0].prev,t[_-1].next)}Pe(u,()=>{for(var c=0;c<_;c++){var n=t[c];v||(p.delete(n.k),M(i,n.prev,n.next)),Ye(n.e,!v)}})}function ve(i,t,a,p,u,_=null){var s=i,v={flags:t,items:new Map,first:null};{var h=i;s=R?j(ke(h)):h.appendChild(Te())}R&&Ae();var c=null,n=!1,b=F(()=>{var l=a();return Se(l)?l:l==null?[]:he(l)});Ce(()=>{var l=e(b),d=l.length;if(n&&d===0)return;n=d===0;let f=!1;if(R){var T=s.data===Ie;T!==(d===0)&&(s=le(),j(s),ee(!1),f=!0)}if(R){for(var x=null,o,y=0;y<d;y++){if(O.nodeType===8&&O.data===Me){s=O,f=!0,ee(!1);break}var S=l[y],E=p(S,y);o=pe(O,v,x,null,S,E,y,u,t,a),v.items.set(E,o),x=o}d>0&&j(le())}R||Fe(l,v,s,u,t,p,a),_!==null&&(d===0?c?de(c):c=_e(()=>_(s)):c!==null&&Le(c,()=>{c=null})),f&&ee(!0),e(b)}),R&&(s=O)}function Fe(i,t,a,p,u,_,s){var v=i.length,h=t.items,c=t.first,n=c,b,l=null,d=[],f=[],T,x,o,y;for(y=0;y<v;y+=1){if(T=i[y],x=_(T,y),o=h.get(x),o===void 0){var S=n?n.e.nodes_start:a;l=pe(S,t,l,l===null?t.first:l.next,T,x,y,p,u,s),h.set(x,l),d=[],f=[],n=l.next;continue}if(Je(o,T,y),o.e.f&ae&&de(o.e),o!==n){if(b!==void 0&&b.has(o)){if(d.length<f.length){var E=f[0],k;l=E.prev;var P=d[0],Y=d[d.length-1];for(k=0;k<d.length;k+=1)ue(d[k],E,a);for(k=0;k<f.length;k+=1)b.delete(f[k]);M(t,P.prev,Y.next),M(t,l,P),M(t,Y,E),n=E,l=Y,y-=1,d=[],f=[]}else b.delete(o),ue(o,n,a),M(t,o.prev,o.next),M(t,o,l===null?t.first:l.next),M(t,l,o),l=o;continue}for(d=[],f=[];n!==null&&n.k!==x;)n.e.f&ae||(b??(b=new Set)).add(n),f.push(n),n=n.next;if(n===null)continue;o=n}d.push(o),l=o,n=o.next}if(n!==null||b!==void 0){for(var D=b===void 0?[]:he(b);n!==null;)n.e.f&ae||D.push(n),n=n.next;var J=D.length;if(J>0){var U=v===0?a:null;$e(t,D,U,h)}}fe.first=t.first&&t.first.e,fe.last=l&&l.e}function Je(i,t,a,p){Re(i.v,t),i.i=a}function pe(i,t,a,p,u,_,s,v,h,c){var n=(h&ze)!==0,b=(h&Oe)===0,l=n?b?Ge(u):ie(u):u,d=h&Ne?ie(s):s,f={i:d,v:l,k:_,a:null,e:null,prev:a,next:p};try{return f.e=_e(()=>v(i,l,d,c),R),f.e.prev=a&&a.e,f.e.next=p&&p.e,a===null?t.first=f:(a.next=f,a.e.next=f.e),p!==null&&(p.prev=f,p.e.prev=f.e),f}finally{}}function ue(i,t,a){for(var p=i.next?i.next.e.nodes_start:a,u=t?t.e.nodes_start:a,_=i.e.nodes_start;_!==p;){var s=Ve(_);u.before(_),_=s}}function M(i,t,a){t===null?i.first=a:(t.next=a,t.e.next=a&&a.e),a!==null&&(a.prev=t,a.e.prev=t&&t.e)}function $(i,t,a){if(a){if(i.classList.contains(t))return;i.classList.add(t)}else{if(!i.classList.contains(t))return;i.classList.remove(t)}}const ce=["🍏","🍎","🍐","🍊","🍋","🍋‍🟩","🍌","🍉","🍇","🍓","🫐","🍈","🍒","🍑","🥭","🍍","🥥","🥝","🍅","🍆","🥑","🥦","🫛","🥬","🥒","🌶","🫑","🌽","🥕","🫒","🧄","🧅","🫚","🥔","🍠","🫘","🥐","🥯","🍞","🥖","🥨","🧀","🥚","🍳","🧈","🥞","🧇","🥓","🥩","🍗","🍖","🦴","🌭","🍔","🍟","🍕","🫓","🥪","🥙","🧆","🌮","🌯","🫔","🥗","🥘","🫕","🥫","🍝","🍜","🍲","🍛","🍣","🍱","🥟","🦪","🍤","🍙","🍚","🍘","🍥","🥠","🥮","🍢","🍡","🍧","🍨","🍦","🥧","🧁","🍰","🎂","🍮","🍭","🍬","🍫","🍿","🍩","🍪","🌰","🥜","🍯","🥛","🍼","🫖","☕️","🍵","🧃","🥤","🧋","🫙","🍶","🍺","🍻","🥂","🍷","🫗","🥃","🍸","🍹","🧉","🍾","🧊","🥄","🍴","🍽","🥣","🥡","🥢","🧂"];var Ke=L("<h1>Game Paused</h1>"),Qe=L("<h1>Matching Game</h1> <button>Play</button>",1),Ze=L("<div> </div>"),je=L('<button class="card svelte-59vlxw"><div class="back svelte-59vlxw"> </div></button>'),ea=L('<h1 class="timer svelte-59vlxw"> </h1> <div class="matches svelte-59vlxw"></div> <div class="cards svelte-59vlxw"></div>',1),aa=L("<h1>You Lost</h1> <button>Play Again</button>",1),ta=L("<h1>You Win!</h1> <button>Play Again</button>",1),ra=L("<!> <!> <!> <!> <!>",1);function va(i,t){We(t,!1);let a=N("start"),p=20,u=N(b()),_=N(e(u).length/2),s=N([]),v=N([]),h=N(null),c=N(60);function n(){function r(){e(a)!="paused"&&g(c,e(c)-1)}g(h,setInterval(r,1e3))}function b(){let r=new Set,m=p/2;for(;r.size<m;){const w=Math.floor(Math.random()*ce.length);r.add(ce[w])}return l([...r,...r])}function l(r){return r.sort(()=>Math.random()-.5)}function d(r){g(s,e(s).concat(r))}function f(){const[r,m]=e(s);e(u)[r]==e(u)[m]&&g(v,e(v).concat(e(u)[r])),setTimeout(()=>g(s,[]),300)}function T(){e(h)&&clearInterval(e(h)),g(u,b()),g(_,e(u).length/2),g(s,[]),g(v,[]),g(h,null),g(c,20)}function x(){g(a,"won"),T()}function o(){g(a,"lost"),T()}function y(r){if(r.key==="Escape")switch(e(a)){case"playing":g(a,"paused");break;case"paused":g(a,"playing");break}}V(()=>(e(a),e(h)),()=>{e(a)==="playing"&&!e(h)&&n()}),V(()=>e(s),()=>{e(s).length===2&&f()}),V(()=>(e(_),e(v)),()=>{e(_)===e(v).length&&x()}),V(()=>e(c),()=>{e(c)===0&&o()}),V(()=>(e(a),e(s),e(v)),()=>{console.log(e(a),e(s),e(v))}),Be(),Xe();var S=ra();B("keydown",Ue,y);var E=W(S);{var k=r=>{var m=Ke();I(r,m)};q(E,r=>{e(a)==="paused"&&r(k)})}var P=C(E,2);{var Y=r=>{var m=Qe(),w=C(W(m),2);B("click",w,()=>g(a,"playing")),I(r,m)};q(P,r=>{e(a)==="start"&&r(Y)})}var D=C(P,2);{var J=r=>{var m=ea(),w=W(m),ye=X(w,!0);H(w);var K=C(w,2);ve(K,5,()=>e(v),oe,(Q,z)=>{var G=Ze(),A=X(G,!0);H(G),te(()=>re(A,e(z))),I(Q,G)}),H(K);var ne=C(K,2);ve(ne,5,()=>e(u),oe,(Q,z,G)=>{var A=je();const we=F(()=>e(s).includes(G)),se=F(()=>e(s).includes(G)||e(v).includes(e(z))),xe=F(()=>e(v).includes(e(z)));var Z=X(A),Ee=X(Z,!0);H(Z),H(A),te(()=>{A.disabled=e(se),$(A,"flip",e(se)),$(A,"selectedCard",e(we)),$(Z,"match",e(xe)),re(Ee,e(z))}),B("click",A,()=>d(G)),I(Q,A)}),H(ne),te(()=>{$(w,"pulse",e(c)<=10),re(ye,e(c))}),I(r,m)};q(D,r=>{e(a)==="playing"&&r(J)})}var U=C(D,2);{var ge=r=>{var m=aa(),w=C(W(m),2);B("click",w,()=>g(a,"playing")),I(r,m)};q(U,r=>{e(a)==="lost"&&r(ge)})}var me=C(U,2);{var be=r=>{var m=ta(),w=C(W(m),2);B("click",w,()=>g(a,"playing")),I(r,m)};q(me,r=>{e(a)==="won"&&r(be)})}I(i,S),qe()}export{va as component};
